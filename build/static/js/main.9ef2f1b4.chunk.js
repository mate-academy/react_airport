(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(4),c=a.n(r),i=(a(16),a(2)),s=a(5),o=a(6),u=a(9),d=a(7),m=a(1),h=a(8);a(17);function g(e){var t,a=new Date(e.flight.timeTakeofFact),n=a.getHours().toString(),r=a.getMinutes().toString().padStart(2,"0"),c="".concat(n,":").concat(r);switch(e.flight.status){case"DP":t="Departed at ".concat(c);break;case"CX":t="Cancelled";break;case"BD":t="In boarding";break;case"DL":t="Delayed";break;case"CK":t="Check in";break;case"LN":t="Landed ".concat(c);break;default:t="On time"}return l.a.createElement("td",null,t)}function E(e){var t=new Date(e.flight.actual),a=t.getMinutes(),n="".concat(t.getHours(),":").concat(a>=10?a:"0"+a);return l.a.createElement("tr",null,l.a.createElement("td",{className:"terminal"},l.a.createElement("span",{className:"terminal"+e.flight.term},e.flight.term)),l.a.createElement("td",null,n),l.a.createElement("td",null,e.flight["airportToID.city_en"]||e.flight["airportFromID.city_en"]),l.a.createElement(g,{flight:e.flight}),l.a.createElement("td",{className:"airline"},e.flight.codeShareData.map(function(e){return l.a.createElement("span",{key:e.airline.en.name},l.a.createElement("img",{className:"airlineLogo",src:e.airline.en.logoSmallName,alt:"airline logo"}),e.airline.en.name)})),l.a.createElement("td",{className:"codeShare"},e.flight.codeShareData.map(function(e){return l.a.createElement("span",{className:"spCodeShare",key:e.codeShare},e.codeShare)})))}a(18);function p(e){return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Terminal"),l.a.createElement("th",null,"Local Time"),l.a.createElement("th",null,"Destination"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Airline"),l.a.createElement("th",null,"Flight"))),l.a.createElement("tbody",null,e.flightItems.map(function(e){return l.a.createElement(E,{key:e.ID,flight:e})})))}function y(e){return l.a.createElement("span",{className:e.class},l.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 240.277 240.277",style:{enableBackground:"new 0 0 240.277 240.277"},xmlSpace:"preserve"},l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("path",{style:{fill:e.background,stroke:e.background,strokeWidth:3,strokeMiterlimit:10},d:"M36.87,144.378l8.276,14.63L232.003,51.126\r c0.732-5.004-0.09-10.193-2.755-14.811c-6.565-11.373-21.638-14.962-33.672-8.02l-41.788,26.027l-96.36-31.97L35.367,35.089\r c-2.416,1.393-3.247,4.484-1.849,6.904l72.801,41.883L63.951,110.69l-40.267-2.863l-13.762,7.94\r c-1.819,1.054-2.445,3.384-1.391,5.209L36.87,144.378z"}))),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null),l.a.createElement("g",null)))}var f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={departure:null,arrival:null,date:null,displayTable:"DEPARTURES",selectedDay:null,loaded:!1},a.changedDisplayTable=a.changedDisplayTable.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getCurrentDate",value:function(e,t){var a=new Date,n=a.getFullYear(),l=a.getMonth()+1,r=a.getDate()+e;this.setState(Object(i.a)({},this.state,{date:"".concat(r.toString().padStart(2,"0"),"-").concat(l.toString().padStart(2,"0"),"-").concat(n),selectedDay:t}))}},{key:"changedDisplayTable",value:function(e){var t=e.target.outerText;if("LABEL"!==e.target.nodeName)return null;this.setState(Object(i.a)({},this.state,{displayTable:t}))}},{key:"loadApi",value:function(e){var t=this;return fetch(e).then(function(e){return e.json()}).then(function(e){return e.body}).then(function(e){var a=e.arrival,n=e.departure;t.setState(Object(i.a)({},t.state,{loaded:!0,arrival:a.filter(function(e){return t.filterFlight(t.state.date,e.timeArrExpectCalc)}),departure:n.filter(function(e){return t.filterFlight(t.state.date,e.timeDepExpectCalc)})}))})}},{key:"filterFlight",value:function(e,t){var a=+e.split("-")[0];return new Date(t).getDate()===a}},{key:"componentDidMount",value:function(){this.getCurrentDate(0,"today")}},{key:"componentDidUpdate",value:function(e,t){this.state.date!==t.date&&this.loadApi("https://api.iev.aero/api/flights/".concat(this.state.date))}},{key:"getDayAndMonth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,a=t.getDate()+e,n=t.getMonth()+1;return"".concat(a.toString().padStart(2,"0"),"/").concat(n.toString().padStart(2,"0"))}},{key:"render",value:function(){var e=this;return this.state.loaded?l.a.createElement("div",{className:"flightsPage"},l.a.createElement("section",{className:"changedDisplayTable"},l.a.createElement("label",{className:"DEPARTURES"===this.state.displayTable?"selectedDisplay":"",onClick:function(t){return e.changedDisplayTable(t)}},l.a.createElement(y,{class:"down",background:"DEPARTURES"===this.state.displayTable?"#1eb7ee":"white"}),"DEPARTURES"),l.a.createElement("label",{className:"ARRIVALS"===this.state.displayTable?"selectedDisplay":"",onClick:function(t){return e.changedDisplayTable(t)}},l.a.createElement(y,{class:"up",background:"ARRIVALS"===this.state.displayTable?"#1eb7ee":"white"}),"ARRIVALS")),l.a.createElement("section",{className:"buttonChangedDay"},l.a.createElement("button",{className:"yesterday"===this.state.selectedDay?"selectedDay":"",onClick:this.getCurrentDate.bind(this,-1,"yesterday")},l.a.createElement("div",null,this.getDayAndMonth(-1)),"Yesterday"),l.a.createElement("button",{className:"today"===this.state.selectedDay?"selectedDay":"",onClick:this.getCurrentDate.bind(this,0,"today")},l.a.createElement("div",null,this.getDayAndMonth()),"Today"),l.a.createElement("button",{className:"tommorow"===this.state.selectedDay?"selectedDay":"",onClick:this.getCurrentDate.bind(this,1,"tommorow")},l.a.createElement("div",null,this.getDayAndMonth(1)),"Tommorow")),l.a.createElement(p,{flightItems:"DEPARTURES"===this.state.displayTable?this.state.departure:this.state.arrival})):null}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.9ef2f1b4.chunk.js.map